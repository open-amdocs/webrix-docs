import {Example} from 'components';

The `<Resizable/>` component can be used to create elements that the user can resize.

A `<Resizable/>` element can receive up to 8 resizers, which can be used to resize the element in
all directions - horizontally, vertically, and diagonally.

The `<Resizable/>` comes with a set of hooks for reduced boilerplate and easy constraint application.
Constraints are used for controlling the way an element is resized.
You can use one of the pre-defined constraints, or create your own.

## Basic Example

<Example file='docs/components/resizable/BasicExample' height={300}/>

In this example we are using the `Resizable.useResize()` hook to control the resizing of the element.
The `onResize` callback is called when the element moves, passing an object with `top/left/width/height`
as an argument.

## Constraints

As mentioned before, constraints can be applied to limit the resizing in certain ways.
The `<Resizable/>` component comes we a set of pre-defined constraints that you can
access through `Resizable.Constraints`.
These constraints can be applied through the `constraints` argument in the hook.

### Min/Max Sizes

<Example file='docs/components/resizable/MinMax' height={350}/>

In the example above we're using the `min(width, height)` and `max(width, height)` constraint to limit the resizing
to a certain minimum & maximum dimensions.

### Snapping

<Example file='docs/components/resizable/Snapping' height={300}/>

In the example above we're using the `Resizable.Constraints.snap(horizontal, vertical, strength)` constraint to
make the resizable element snap to a 20px by 20px grid.

In the example below we use the same constraint, only here the grid size is 60px by 60px, and the snapping
strength is set to `0.3`. The snapping strength is a number between `0` and `1`, where `1` corresponds to
full strength and `0` to no strength (and therefore, no snapping).

<Example file='docs/components/resizable/SnappingAdvanced' height={300}/>

### Contain

<Example file='docs/components/resizable/Contain' height={300}/>

In this example we're using the `Resizable.Constraints.contain(container)` constraint, to limit the
resizing of the element to not overflow the boundaries of the given container.

### Ratio

<Example file='docs/components/resizable/Ratio' height={300}/>

In this example we're using the `Resizable.Constraints.ratio(value)` constraint, to
maintain the given ratio when resizing.

The `ratio` constraint accepts a number representing the ratio that you wish to maintain
between the width and the height of the element. For example, a ratio of `2` will maintain
an element width that is double the element's height.

### Mixing Constraints

<Example file='docs/components/resizable/Mixing' height={300}/>

In this example we're combining 4 different constraints to achieve a more complex behavior.
You can mix as many constraints as you need, but for optimal UX you will need to make sure
that the constraints make sense when applied together.

For example, applying a `ratio` of `4/3` while having a `snap` of `40, 40` will void the `ratio`
in certain cases since they are contradictory. Instead, the `snap` should use values that maintain
the given ratio, like `40, 30`.

### Custom Constraints

Coming soon!

## Custom Directions

<Example file='docs/components/resizable/CustomDirections' height={300}/>

Instead of using `<Resizable.Resizers.All/>`, you can use any combination of resizers to limit
the resize operation to certain directions. In this example we use `Right`,`Bottom` and `BottomRight`
resizers to allow the element to be resized only at those edges/coreners.

## Custom Handlers

<Example file='docs/components/resizable/CustomHandlers' height={300}/>

Up to this point we've been using the `Resizable.useResize()` hook.
The hook returns an object with `onBeginResize`, `onResize` and `onEndResize` handlers,
which should be injected to the `<Resizable/>`.

However, you can create your own handlers, if you need a special behavior that is not covered
by that hook (and its accompanying set of constraints).

The `onResize` prop can be used to listen to resize changes.
It passes an object with `width`, `height`, `top` and `left` keys to the handler.
These values represent the change (delta) in dimensions/position, rather than
the actual new dimensions/position.

To get the actual dimensions/position, simply add the deltas to the initial values.

## API

### Importing

```jsx
// ESM
import {Resizable} from 'webrix/components';
import Resizable from 'webrix/components/Resizable'; // For better tree shaking

// UMD
const {Resizable} = Webrix.components;
```

### Props

Name|Type|Default|Description
---|---|---|---
`children`|node|`null`|Specifies resizers to use. One of `Resizable.Resizers` (see below).
`onBeginResize`|func|`() => null`|Specifies an event handler to be called when the user begins to resize the element.
`onResize`|func|`() => null`|Specifies an event handler to be continuously called as the user resizes the element. Receives an object with `top`/`left`/`width`/`height`, representing the deltas.
`onEndResize`|func|`() => null`|Specifies an event handler to be called when the user stops resizing the element.

### Resizers

* `<Resizable.Resizers.All/>` - All horizontal, vertical and diagonal resizers.
* `<Resizable.Resizers.Top/>` - Top vertical resizer.
* `<Resizable.Resizers.Bottom/>` - Bottom vertical resizer.
* `<Resizable.Resizers.Left/>` - Left horizontal resizer.
* `<Resizable.Resizers.Right/>` - Right horizontal resizer.
* `<Resizable.Resizers.TopRight/>` - Top right corner diagonal resizer.
* `<Resizable.Resizers.TopLeft/>` - Top left corner diagonal resizer.
* `<Resizable.Resizers.BottomRight/>` - Bottom right corner diagonal resizer.
* `<Resizable.Resizers.BottomLeft/>` - Bottom left corner diagonal resizer.

### Hooks

#### `Resizable.useResize({ref, onResize, constraints = []})`

Generate the set of props to be injected to a `<Resizable/>` component, applying the given constraints.

### Constraints

#### `Resizable.Constraints.min(width, height)`

Limit the resizing to not go below the given width/height.

#### `Resizable.Constraints.max(width, height)`

Limit the resizing to not go above the given width/height.

#### `Resizable.Constraints.snap(horizontal, vertical, strength = 1)`

Snap the resizing to a grid specified by the given `horizontal` & `vertical` arguments,
optionally specifying the snapping strength in `strength`, as a number between `0` and `1`.

#### `Resizable.Constraints.contain(ref)`

Limit the resizing to not overflow the bounding rect of the given container.

#### `Resizable.Constraints.ratio(value)`

Maintain the given ratio when resizing. The given value represents the ratio between the width
and the height. For example, to maintain a `4:3` ratio, use the value `4/3`.
